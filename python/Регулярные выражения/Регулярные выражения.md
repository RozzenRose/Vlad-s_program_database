#Python #регулярные_выражения

![[Pasted image 20240724143444.png|400]]
Регулярные выражения - это мощный способ обработки текста, позволяющий находить в строках подстроки по сложным условиям.

**Регулярные выражения** - это строка, задающая шаблон поиска подстрок в тексте. Одному шаблону может соответствовать много разных строк. Регулярное выражение состоит из обычных символов и специальных командных последовательностей.

Работа с регулярными выражениями реализована во всех современных языках программирования. Однако существует несколько диалектов, поэтому функционал регулярных выражений может различаться от языка е языку

Регулярные выражения обычно применяют для:
- поиска подстрок в строке
- разделения строки на подстроки
- замены части строки

Например, задачу выше шаблон телефонного номера можно написать регулярным выражением так:
```
\d\d\d-\d\d\d-\d\d\d\d
```
или еще более компактной версией:
```
\d{3}-\d{3}-\d{4}
```
### [[Синтаксис регулярных выражений]]

| Метасимвол | Диапазон                | Описание                                            |     |
| ---------- | ----------------------- | --------------------------------------------------- | --- |
| `\d`       | `[0-9]`                 | любая цифра                                         |     |
| `\D`       | `[^0-9]`                | любой нецифровой символ                             |     |
| `\w`       | `[0-9a-zA-Zа-яА-ЯёЁ_]`  | любой алфавитно-цифровой символ и символ `_`        |     |
| `\W`       | `[^0-9a-zA-Zа-яА-ЯёЁ_]` | любой символ, отличный от алфавитно-цифрового и `_` |     |
| `\s`       | `[ \f\n\r\t\v]`         | любой пробельный символ                             |     |
| `\S`       | `[^ \f\n\r\t\v]`        | любой непробельный символ                           |     |

| Шаблон  | Описание                                 |
| ------- | ---------------------------------------- |
| `{n}`   | ровно `n` повторений                     |
| `{m,n}` | от `m` до `n` повторений включительно    |
| `{m,}`  | не менее `m` повторений                  |
| `{,n}`  | не более `n` повторений                  |
| `?`     | ноль или одно вхождение, синоним `{0,1}` |
| `*`     | ноль или более, синоним `{0,}`           |
| `+`     | одно или более, синоним `{1,}`           |

| Жадный  | Ленивый  |
| ------- | -------- |
| `*`     | `*?`     |
| `+`     | `+?`     |
| `?`     | `??`     |
| `{m,n}` | `{m,n}?` |
| `{,n}`  | `{,n}?`  |
| `{m,}`  | `{m,}?`  |
### Сырые строки и экранирование

Экранированные последовательности - это последовательности, кот которые начинаются с символа `\`, ща которым следует один или более символов (`\\, \', \", \n, \t` и т.д.)

В языке `Python` некоторые символы нужно экранировать, чтобы они воспринимались правильно. К таким символам относятся:
- обратный слэш `\`
- одинарная кавычка `'`
- двойная кавычка `"`
- и многие другие
```python
print('\\')
print('\'')
print("\"")
```
```
\
'
"
```

Чтобы написать правильно строку, в которой находятся два символа обратного слэша, оба символа надо экранировать, и в итоге получается строки вида `\\\\`. Вместо экранирования можно использовать сырые (raw) строки, и тогда каждый символ будет восприниматься так, как написан. Сырые строки отличаются от обычных тем, что при создании строки вначале пишется буква `r`
```python
print(r'\\привет мир')
print(r'\\\\')
print(r'\n')
print(r'\t')
```
```
\\привет мир
\\\\
\n
\t
```
Так как в регулярных выражениях часто используется символ обратного слэша `\`, то рекомендуется использовать сырые строки для описания регулярных выражений. Некоторые выражения правильно отработают и без них, но использование сырых строк для регулярных выражений это хороший тон
