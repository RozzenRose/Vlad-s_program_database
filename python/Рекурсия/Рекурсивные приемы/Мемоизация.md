#Python #—Ä–µ–∫—É—Ä—Å–∏—è #–º–µ–º–æ–∏–∑–∞—Ü–∏—è 

![[Pasted image 20240610131444.png]]
–ú–µ–º–æ–∏–∑–∞—Ü–∏—è - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –∏ —ç—Ç–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ä–∞—Å—á–µ—Ç–∞ —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏:

–ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏¬†‚Äì –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–∏—Å–µ–ª:¬†
`1,1,2,3,5,8,13,21,34,55,89,‚Ä¶`
–≤¬†–∫–æ—Ç–æ—Ä–æ–π –¥–≤–∞ –ø–µ—Ä–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞ —Ä–∞–≤–Ω—ã¬†11, –∞¬†–∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π¬†‚Äî —Å—É–º–º–µ –¥–≤—É—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –§–∏–±–æ–Ω–∞—á—á–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤ –≤–∏–¥–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è:
`fib(ùëõ)=fib(ùëõ‚àí1)+fib(ùëõ‚àí2),     fib(1)=fib(2)=1`

 –°–æ–±–µ—Ä–µ–º –ø—Ä–æ—Å—Ç–µ–π—à—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏:
 ```python
def fib(n):
    if n <= 2:
        return 1                             # –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
    else:
        return fib(n - 1) + fib(n - 2)       # —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ª—É—á–∞–π

print(fib(6))
```
```
8
```
–¢–æ –µ—Å—Ç—å, –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–µ —Å–ª—É—á–∞–π, –º—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º —ç—Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é –µ—â–µ –¥–≤–∞ —Ä–∞–∑–∞. –ò –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤, –∞ —Ü–µ–ª–æ–µ –¥—Ä–µ–≤–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–∏–π –≤–∏–¥:
![[Pasted image 20240609233514.png]]
–í–æ¬†–≤—Ä–µ–º—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏ –º—ã –Ω–µ—è–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –¥–µ—Ä–µ–≤–æ –≤¬†–≥–ª—É–±–∏–Ω—É. –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ¬†–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: —Å–Ω–∞—á–∞–ª–∞ –ª–µ–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ, –∞¬†–ø–æ—Ç–æ–º –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ –∏–∑¬†–ª—é–±–æ–π –≤–µ—Ä—à–∏–Ω—ã. –ü–æ—Ç–æ–º—É —á—Ç–æ GIL.

–ü—Ä–∏ —ç—Ç–æ–º –¥–µ—Ä–µ–≤–æ —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –ø—Ä–∏ —Ä–æ—Å—Ç–µ —á–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏, —á—Ç–æ –≤–ª–µ—á–µ—Ç –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ —Ç—Ä–∞—Ç—É –ø–∞–º—è—Ç–∏. –ê –≤—Å–µ –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã –º–Ω–æ–≥–æ —Ä–∞–∑ –≤—ã—á–∏—Å–ª—è–µ–º –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏:
![[Pasted image 20240609233823.png]]

–ò –≤–æ—Ç –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ –Ω–∞ —Å—Ü–µ–Ω—É –≤—ã—Ö–æ–¥–∏—Ç ***–ú–µ–º–æ–∏–∑–∞—Ü–∏—è***
–ü–µ—Ä–µ–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é `fib()` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ–º–æ–∏–∑–∞—Ü–∏–∏:
```python
cache = {1: 1, 2: 1}                # –∫–ª—é—á - –Ω–æ–º–µ—Ä —á–∏—Å–ª–∞, –∑–Ω–∞—á–µ–Ω–∏–µ - —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏ 

def fib(n):
    result = cache.get(n)
    if result is None:
        result = fib(n - 2) + fib(n - 1)
        cache[n] = result
    return result
```
–ü—Ä–∏ —Ç–∞–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `fib()` —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É–∂–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∏ –µ—Å–ª–∏ –æ–Ω –Ω–∞–π–¥–µ–Ω, —Ç–æ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ `fib()` —Ö–æ—Ä–æ—à–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø–æ—Å–∫–æ–ª—å–∫—É —Ç–µ–ø–µ—Ä—å –º—ã –Ω–µ –≤—ã—á–∏—Å–ª—è–µ–º –º–Ω–æ–≥–æ —Ä–∞–∑ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏. –ù–æ –µ–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `cache`

–ú–æ–∂–Ω–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —Ç–∞–∫–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
```python
def fib(n):
    ‚Äãcache = {1: 1, 2: 1}
    def fib_rec(n):
        result = cache.get(n)
        if result is None:
            result = fib_rec(n - 2) + fib_rec(n - 1)
            cache[n] = result
        return result
    return fib_rec(n)
```
–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤–æ –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ –¥–µ—Ñ–æ–ª—Ç—É, –Ω–æ –Ω–µ –≤ –ü–∏—Ç–æ—Ö–æ–Ω–µ, –Ω–µ–µ–µ—Ç. –¢—É—Ç —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–¥–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å –≤ —Ä—É—á–Ω—É—é (–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `lru_cache`)