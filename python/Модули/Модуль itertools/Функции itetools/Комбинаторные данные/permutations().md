#метод #itertools #python #permutations


Функция `permutations()` возвращает итератор, который содержит все перестановки из элементов переданного итерируемого объекта. Каждая перестановка заключена в кортеж нужной длины.

Аргументы функции:
- `iterable` — итерируемый объект
- `r` — целое число, длина возвращаемых кортежей; по умолчанию имеет значение `None`

Если значение аргумента `r` не указано или равно `None`, тогда по умолчанию `r` равно длине итерируемого объекта `iterable`, и генерируются все возможные перестановки полной длины.

```python
from itertools import permutations

numbers = [1, 2, 3, 4]
letters = 'cba'

all_num_permutations = permutations(numbers)
all_let_permutations = permutations(letters)

print(list(all_num_permutations))
print(list(all_let_permutations))
```
```
[(1, 2, 3, 4), (1, 2, 4, 3), (1, 3, 2, 4), (1, 3, 4, 2), (1, 4, 2, 3), (1, 4, 3, 2), (2, 1, 3, 4), (2, 1, 4, 3), (2, 3, 1, 4), (2, 3, 4, 1), (2, 4, 1, 3), (2, 4, 3, 1), (3, 1, 2, 4), (3, 1, 4, 2), (3, 2, 1, 4), (3, 2, 4, 1), (3, 4, 1, 2), (3, 4, 2, 1), (4, 1, 2, 3), (4, 1, 3, 2), (4, 2, 1, 3), (4, 2, 3, 1), (4, 3, 1, 2), (4, 3, 2, 1)]
[('c', 'b', 'a'), ('c', 'a', 'b'), ('b', 'c', 'a'), ('b', 'a', 'c'), ('a', 'c', 'b'), ('a', 'b', 'c')]
```
Стоит обратить внимание на то, что перестановки генерируются в порядке сортировки. функция как будь то выводит каждый шаг при реализации алгоритма сортировки. Поэтому, если итерируемые объект отсортирован, то кортежи перестановок будут созданы в отсортированном порядке.

Для задания длинны возвращаемых кортежей функции `permutations()` нужно задать значение аргумента `r` 
```python
from itertools import permutations

letters = ['a', 'b', 'c']

permutations1 = permutations(letters, r=1)
permutations2 = permutations(letters, r=2)
permutations3 = permutations(letters, r=3)

print(list(permutations1))
print(list(permutations2))
print(list(permutations3))
```
```
[('a',), ('b',), ('c',)]
[('a', 'b'), ('a', 'c'), ('b', 'a'), ('b', 'c'), ('c', 'a'), ('c', 'b')]
[('a', 'b', 'c'), ('a', 'c', 'b'), ('b', 'a', 'c'), ('b', 'c', 'a'), ('c', 'a', 'b'), ('c', 'b', 'a')]
```

Элементы итерируемого объекта рассматриваются как уникальные в зависимости от их положения, а не от их значения. Это значить, что если в итерируемом объекта есть одинаковые символы, в ответе `permutations()` будут повторы
```python
from itertools import permutations

numbers = [1, 2, 2]

num_permutations = permutations(numbers)

print(list(num_permutations))
```
```
[(1, 2, 2), (1, 2, 2), (2, 1, 2), (2, 2, 1), (2, 1, 2), (2, 2, 1)]
```