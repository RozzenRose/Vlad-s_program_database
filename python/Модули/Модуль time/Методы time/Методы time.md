 #python #time #strftime #strptime


[[sleep()]] - пауза в выполнении кода
[[ctime()]] - вернет дату, если передать количество секунд
[[time() monotonic() pref_counter()]] - с разной точностью замеряют количество секунд с начала эпохи
[[localtime() gmtime()]] - из количества секунд с начала эпохи формирует дату и возвращает ее в объекта типа `struct_time` в локальном времени
[[mktime()]]
[[asctime()]]

### Форматный вывод

Функции преобразования в строку `ctime()` и `asctime()` делают примерно одно и тоже, они представляют время в строковом виде, но принимают на вход данные в разных объектах
```python
import time

seconds = 1530377118
time_tuple = (2021, 8, 31, 5, 31, 58, 1, 243, 0)

print(time.ctime(seconds))
print(time.asctime(time_tuple))
```
```
Sat Jun 30 19:45:18 2018
Tue Aug 31 05:31:58 2021
```
Но их вообще можно форматировать, все теми же `strftime()` и `strptime()` прямо как данные из модуля [[Модуль datetime|datetime]]

#### strftime() struct_time=>str
Функция принимает строку с некоторым набором правил для форматирования и объект `struct_time`(или кортеж c 9 цифрами), и возвращает строку с датой в зависимости от инструкций формата.
```python
import time

time_obj = time.localtime()
result = time.strftime('%d.%m.%Y, %H:%M:%S', time_obj)
print(result)
```
```
01.09.2021, 08:50:32
```
#### strptime() str=>struct_time
Принимает две строки, одна с датой, другая с инструкциями форматирования `на какую сам сядешь...`, вернет объект типа `struct_time`
```python
import time

time_string = '1 September, 2021'
result = time.strptime(time_string, '%d %B, %Y')
print(result)
```
```no-highlight
time.struct_time(tm_year=2021, tm_mon=9, tm_mday=1, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=2, tm_yday=244, tm_isdst=-1)
```

#### Таблица для формирования форматных инструкций

|Формат|Значение|Пример|
|---|---|---|
|`%a`|Сокращенное название дня недели|Sun, Mon, …, Sat (en_US)  <br>Пн, Вт, ..., Вс (ru_RU)|
|`%A`|Полное название дня недели|Sunday, Monday, …, Saturday (en_US)  <br>понедельник, ..., воскресенье (ru_RU)|
|`%w`|Номер дня недели [0, …, 6]|0, 1, …, 6 (0=воскресенье, 6=суббота)|
|`%d`|День месяца [01, …, 31]|01, 02, …, 31|
|`%b`|Сокращенное название месяца|Jan, Feb, …, Dec (en_US);  <br>янв, ..., дек (ru_RU)|
|`%B`|Полное название месяца|January, February, …, December (en_US);  <br>Январь, ..., Декабрь (ru_RU)|
|`%m`|Номер месяца [01, …,12]|01, 02, …, 12|
|`%y`|Год без века [00, …, 99]|00, 01, …, 99|
|`%Y`|Год с веком|0001, 0002, …, 2013, 2014, …, 9999  <br>В Linux год выводится без ведущих нулей:  <br>1, 2, …, 2013, 2014, …, 9999|
|`%H`|Час (24-часовой формат) [00, …, 23]|00, 01, …, 23|
|`%I`|Час (12-часовой формат) [01, …, 12]|01, 02, …, 12|
|`%p`|До полудня или после (при 12-часовом формате)|AM, PM (en_US)|
|`%M`|Число минут [00, …, 59]|00, 01, …, 59|
|`%S`|Число секунд [00, …, 59]|00, 01, …, 59|
|`%f`|Число микросекунд|000000, 000001, …, 999999|
|`%z`|Разница с UTC в формате ±HHMM[SS[.ffffff]]|+0000, -0400, +1030, +063415, ...|
|`%Z`|Временная зона|UTC, EST, CST|
|`%j`|День года [001,366]|001, 002, …, 366|
|`%U`|Номер недели в году  <br>(нулевая неделя начинается с воскр.) [00, …, 53]|00, 01, …, 53|
|`%W`|Номер недели в году  <br>(нулевая неделя начинается с пон.) [00, …, 53]|00, 01, …, 53|
|`%c`|Дата и время в текущей локали|Tue Aug 16 21:30:00 1988 (en_US);  <br>03.01.2019 23:18:32 (ru_RU)|
|`%x`|Дата в текущей локали|08/16/88 (None); 08/16/1988 (en_US);  <br>03.01.2019 (ru_RU)|
|`%X`|Время в текущей локали|21:30:00|