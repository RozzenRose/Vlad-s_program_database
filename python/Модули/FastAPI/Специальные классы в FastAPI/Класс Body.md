#FastAPI #Body

![[Pasted image 20250328140753.png]]
–ö–ª–∞—Å—Å **`Body`** –∏–∑ `fastapi` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ **—Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞** (HTTP Request Body).

üìå **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω `Body`?**
- **–ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (–æ–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–∏–º–µ—Ä—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—é).
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å Pydantic-–º–æ–¥–µ–ª—è–º–∏** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- **–£–ø—Ä–æ—â–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –≤ OpenAPI (Swagger).

–ü—Ä–∏–º–µ—Ä:
```python
from fastapi import FastAPI, status, Body

app = FastAPI()

messages_db = {0: "First post in FastAPI"}

@app.post("/message", status_code=status.HTTP_201_CREATED)  
async def create_message(message: str = Body()) -> str:  
    messages_db.update({list(messages_db.keys())[-1]+1: message})  
    print(messages_db)  
    return 'Message created!'
```
–ó–∞–ø—É—Å—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ú—ã –≤–∏–¥–∏–º —á—Ç–æ –ø–æ–ª—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —É –Ω–∞—Å —Ç–µ–ø–µ—Ä—å –Ω–µ—Ç, –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–ø—Ä–æ–±—É–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ –Ω–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞:
![[Pasted image 20250328134655.png]]
–ê –≤ —Å–ª–æ–≤–∞—Ä—å `messages_db` –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å: 
![[Pasted image 20250328135007.png]]
–ó–¥–µ—Å—å `Body()` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `message` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞.