#FastAPI 

![[Pasted image 20250325152532.png]]
Создадим файл `api.py`
![[Pasted image 20250325113719.png]]
Создаем экземпляр `FastAPI` следующим образом:
```python
from fastapi import FastAPI

app = FastAPI()
```
Этот код инициализирует структуру **FastAPI**. Приложению необходимо создать экземпляр основного класса **FastAPI** из модуля `fastapi`и использовать приложение в качестве ссылочной переменной для объекта. Затем этот объект используется позже в качестве декоратора Python `@app`, который предоставляет нашему приложению некоторые функции, такие как маршруты, промежуточное программное обеспечение, обработчики исключений и операции с путями.

Маршрут создается, сначала определяя декоратор для указания типа операции, а затем функцию, содержащую операцию, которая будет выполняться при вызове этого маршрута.

Теперь ваше приложение готово управлять **REST API**, которые технически являются функциями `Python`. Но чтобы объявить их как методы службы **REST**, нам нужно украсить их соответствующим методом HTTP-запроса, предоставляемым декоратором `@app`. Этот декоратор содержит операции пути `get()`, `post()`, `delete()`, `put()`, `head()`, `patch()`, `trace()`и `options()`, которые соответствуют восьми методам HTTP-запроса. И эти операции пути декорируются или аннотируются поверх функций `Python`, в которых мы хотим обрабатывать запрос и ответ.

В следующим примере мы создадим маршрут `"/"`, который принимает только запросы `GET` и возвращает приветственное сообщение при посещение:
```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
async def welcome() -> dict:
    return {"message": "Hello World"}
```
Следующим шагом будет запуск нашего приложения с помощью `uvicorn`. В терминале выполним следующую команду:
```terminal
uvicorn api:app --port 8000 --reload
```
`uvicorn` принимает следующие аргументы при запуске
- `file:instance`: файл, содержащий экземпляр `FastAPI` и переменную имени экземпляра `FastAPI`. Например. если у нас будет файл `main.py` и экземпляр основного класса `my_app = FastAPI()`, то и вызывать ее мы будем как `uvicorn main:my_app`
- `--port`: порт, на котором будет обслуживаться приложение.
- `--reload`: необязательный аргумент, включенный для перезапуска приложения при каждом изменении файла. Данную опцию можно использовать лишь только при локальной разработке.

Эта команда вернет нам следующий вывод:
```scss
(.venv) permin0ff@Mac hello_word % uvicorn api:app --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/Users/permin0ff/PycharmProjects/FastAPI_beginners/hello_word']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [47970] using WatchFiles
INFO:     Started server process [47972]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```
Вывод выше, показывает, что `uvicorn` использует адрес `http://127.0.0.1` для запуска приложения с портом по умолчанию `8000`. Мы можем получить доступ к нашей странице через [http://127.0.0.1:8000](http://127.0.0.1:8000/). А для того, чтобы остановить сервер, вам просто нужно нажать клавиши клавиатуры Ctrl+C.

Теперь мы можем перейти по адресу [http://127.0.0.1:8000](http://127.0.0.1:8000/) и посмотреть наше запущенное приложение:
![[Pasted image 20250325120637.png]]