#модуль #python #SQLAlchemy 

Модели данных, это что-то типо шаблона, благодаря которому мы можем запрашивать данные из **СУБД** или записывать их туда.

### Создание моделей данных
Для создания модели данных  импортируется `DeclarativeBase`
```Python
from sqlalchemy.orm import DeclarativeBase
```
Это специальный абстрактный класс, любой его наследник почти готовая модель данных. Тем не менее для удобства у него чаще всего создается промежуточный наследник `Base`, импорт и создание промежуточного наследника для удобства происходит обычно в файлах с движками. 

Некоторые файлы для подключения к **СУБД** тут не приводятся, они есть в статье про подключение к **СУБД**

Для примера возьмем следующие файлы:
##### engines.py
``` python
from sqlalchemy.ext.asyncio import create_async_engine, async_session, async_sessionmaker  
from sqlalchemy.orm import DeclarativeBase  
from DB_config import settings  
import asyncio  
  
engine = create_async_engine(  
    url=settings.DATABASE_URL_asyncpg,  
    echo=False  
)  
  
async_session_factory = async_sessionmaker(engine)  

class Base(DeclarativeBase):  
    pass
```
Ничего сложного, мы импортировали `DeclarativeBase` и создали его наследника `Base`
##### models.py
```python
from engine import Base  
from sqlalchemy.orm import Mapped, mapped_column  
  
class WorkersOrm(Base):  
    __tablename__ = 'workers'  
    id: Mapped[int] = mapped_column(primary_key=True)  
    username: Mapped[str]
```
Мы создаем наследника `Base` и этот самый наследник и будет являться нашей моделью данных.

В строке  `__tablename__ = 'workers'` определяется название таблицы внутри **СУБД**.
В следующей строке объявляется имя столбца `id` через `Mapped[int]` указывается тип значений, которые будут хранится в этом столбце. Метод `mapped_clumn()` нужен для указание некоторых особенностей столбца, в примере через него указывается, что столбец хранит первичный ключ.

В случае, если это обычный столбец и он не является никаким ключом, мы вообще можем не использовать этот метод и строка с объявлением столбца закончится на указании типа данных, как в последней строчке