#python #zip #файлы #работа_с_файлами #архивация #разархивация #printdir #zipfile


Базовое знание для работы с `zip` архивами  - это создание файловых объектов.
![[test.zip]]
```python
from zipfile import ZipFile

with ZipFile('test.zip') as zip_file:
    zip_file.printdir()
```
Теперь файловый объект присвоен к переменной `zip_file`

При создании объекта `ZipFile` мы можем передать необязательный аргумент `mode`, который задает режим работы, работает как метод `open()`
- `r` — файл будет открыт для чтения
- `w` — если файл существует, то он будет уничтожен и вместо него будет создан новый файл
- `a` — существующий файл будет открыт в режиме добавления в конец
Если не задать аргумент `mode`, он применится с дефолтным значением `mode='r'` 

При создании объекта `ZipFile` мы также можем передать еще два необязательных аргумента:

- `compression`, который определяет метод сжатия, который должен использоваться при записи в архив. Он принимает одно из значений: `ZIP_STORED, ZIP_DEFLATED, ZIP_BZIP2, ZIP_LZMA`. По умолчанию используется значение `compression=ZIP_STORED`

- `allowZip64`, который позволяет разрешить использование расширений `zip64`, которые дают возможность создавать архивы размером больше 4 гигабайт. По умолчанию равен `allowZip64=True`

 Для того чтобы проверить является ли некоторый файл `zip` архивом, используется функция `zipfile.is_zipfile()`, которая принимает на вход путь к файлу (или сам файловый объект) и возвращает значение `True`, если указанный файл является `zip` архивом, или `False` в противном случае.


[[printdir()]] - данные о содержимом архива
[[infolist() is_dir()]] - дополнительные данные о каждом файле архива
[[namelist()]] - названия всех файлов и директорий в архиве
[[getinfo()]]  - информация о конкретном файле архива
[[namelist()]] - список всех объектов архива

Чтение архивных файлов:
[[open() read() decode() чтение]]

Запись архивных файлов:
[[write() запись]]

Извлечение архивов:
[[Extract() Extractall()]]



Статья на Wiki о zip:
https://ru.wikipedia.org/wiki/ZIP
Документация о архивировании в Python:
https://docs.python.org/3/library/archiving.html