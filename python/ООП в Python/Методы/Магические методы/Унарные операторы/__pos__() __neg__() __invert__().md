#OOP #ООП #Python #магический_метод #pos #neg #invert


Помимо операций сравнения существуют операции, в которых участвует лишь один операнд. За такие операции отвечают унарные операторы `+, -` и `~`
```python
num = 10

print(+num)
print(-num)
print(~num)
```
```
10
-10
-11
```
Поведение унарных операторов определяется соответствующими магическими методами:
- `__pos__()` — определяет поведение для унарного плюса
- `__neg__()` — определяет поведение для унарного минуса
- `__invert__()` — определяет поведение для оператора инвертирования

Рассмотрим класс `Angel`, описывающий угол от `-180°` до `180°`, и определим в этом классе поведение унарных операторов. Унарный плюс будет возвращать исходный угол. Отрицание будет возвращать исходный угол, взятый со знаком минус. Инвертирование для неотрицательного угла будет возвращать смежный угол, взятый со знаком минус. Инвертирование для неотрицательного угла будет возвращать смежный угол, для отрицательного - диаметрально противоположный
```python
class Angle:
    def __init__(self, value):
        self.value = value                       # градусная мера угла

    def __repr__(self):
        return f'Angle({self.value})'

    def __pos__(self):
        return Angle(self.value)

    def __neg__(self):
        return Angle(-self.value)

    def __invert__(self):
        if 0 <= self.value <= 180:
            return Angle(180 - self.value)
        return Angle(180 + self.value)


angle = Angle(100)

print(+angle)
print(-angle)
print(~angle)
```
```
Angle(100)
Angle(-100)
Angle(80)
```
Стоит обратить внимание, что унарные операторы возвращают новые объекты того же класса, а не изменяют исходный
