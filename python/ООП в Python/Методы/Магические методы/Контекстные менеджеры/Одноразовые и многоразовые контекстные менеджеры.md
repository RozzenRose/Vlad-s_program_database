#OOP #ООП #Python #магический_метод 


#### Одноразовые контекстные менеджеры
Большинство контекстных менеджеров написаны таким образом, что они могут эффективно использоваться в операторе `with` только один раз. Такие менеджеры называют __одноразовыми__, и они должны создаваться заново каждый раз перед использованием. Когда они уже используются или использовались в операторе `with` - попытка использовать их во второй  раз может привести к возбуждению исключения или приведет к неправильной их работе.

Классическим примером одноразового контекстного менеджера является объект, возвращаемые встроенной функцией `open()`
```python
file = open('output.txt', mode='w', encoding='utf-8')

with file:
    file.write('Python generation!')
    
with file:
    file.write('Python generation!')
```
```
ValueError: I/O operation on closed file.
```
поскольку первый оператор `with` закрывает файл, предотвращая любые дальнейшие операции ввода-вывода с использованием этого файлового объекта.

#### Многоразовые контекстные менеджеры
__Многоразовый__ контекстный менеджер - это менеджер, который можно повторно использовать в рамках __невложенных__ операторов `with`. 