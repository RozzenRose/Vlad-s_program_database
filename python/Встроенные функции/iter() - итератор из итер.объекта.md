#python #iter #встроенная_функция #метод

Создает итератор из любого итерируемого объекта, достаточно передать любую коллекцию в качестве аргумента и функция `iter()` вернет итератор.
```python
numbers = [1, 2, 3]

iterator = iter(numbers)          # создаем итератор на основании списка

print(next(iterator))             # запрашиваем и печатаем первый элемент итератора
print(next(iterator))             # запрашиваем и печатаем второй элемент итератора
print(next(iterator))             # запрашиваем и печатаем третий элемент итератора
```
```
1
2
3
```

Обычный сценарий использования этой функции выглядит так:
```python
iter(iterable) -> iterator
```
Однако мы можем использовать функцию `iter()` в еще одном полезном сценарии:
```python
iter(callable, sentinel) -> iterator
```
Если функции `iter()` передается два аргумента, то первый аргумент `callable` должен  являться функцией, а второй аргумент `sentinel` - некоторым стоп значением. В этом случае, созданный итератор будет вызывать указанную функцию `callable` и проверять полученное значение на равенство со значением `sentinel`. Если полученное значение равно `sentinel`, то возбуждается исключение `StopIteration`, иначе итератор выдает значение, полученное из функции `callable`

Например мы можем создать бесконечный итератор:
```python
zero_iterator = iter(int, -1)

for i in range(5):
    print(next(zero_iterator))

print(type(zero_iterator))
```
```
0
0
0
0
0
<class 'callable_iterator'>
```
Функция `int()`, которую мы передаем в качестве первого аргумента в функцию `iter()`, всегда возвращается значение `0`, при этом вторым аргументом (стоп-значением) является - `1`. которое не будет возвращено никогда. Таким образом, мы простроили бесконечный итератор, генерирующий единственное нулевое  значение

Мы также можем написать итератор, который генерирует неопределенное количество случайных чисел.
```python
from random import choice

def test_iter():
    values = list(range(1, 11))
    return choice(values)

random_iterator = iter(test_iter, 2)

for num in random_iterator:
    print(num)
```
```
1
3
3
9
4
3
5
```
Итератор  `random_iterator` будет генерировать случайное число от `1` до `10` до тех пор, пока не будет возвращено число 2.

Одним из применений второго аргумента `sentinel` является чтение строк файла до тех пор, пока не будет достигнута строка `sentinel`
```python
with open('data.txt') as file:
    for line in iter(file.readline, ''):    # читаем, пока не попадется пустая строка 
        # Делаем что-то с line.
```
считывает строки текстового файла `data.txt` до тех пор, пока очередная строка не окажется пустой