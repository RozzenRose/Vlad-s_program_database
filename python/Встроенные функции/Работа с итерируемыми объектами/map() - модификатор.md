#встроенная_функция #python #map #метод #функция_высшего_порядка 

![[Pasted image 20240605153745.png]]
Используется для модификации элементов любого итерируемого объекта. Написана на `C`, выполняется быстро, памяти жрет мало
```python
map(func, *iterables)
```
	func - функция для модификации
	iterables - итерируемый объект
вернет итератор!

Пример:
```python
def increase(num):
	return num + 7 

numbers = [1, 2, 3, 4, 5, 6] 
new_numbers = map(increase, numbers) # используем встроенную функцию map() 
print(new_numbers)
```
выведет специальный объект "итератор":
```
<map object at 0x...>
```
Если его итерировать, во время каждой итерации будет возвращать модифицированное значение.
```python
for num in new_numbers: # итерируем циклом for
	print(num)
```

```
8
9
10
11
12
13
```
Еще можно передать результат в функцию `list()`. тогда мы получим объект типа `list`, заполненный модифицированными значениями ну и вообще можно использовать любой итерируемый объект:
```python
new_numbers = list(map(increase, numbers))
print(new_numbers)
```

```
8 9 10 11 12 13
```

Можно использовать кастомные функции для модификации и несколько итерируемых объектов:
```python
def func(elem1, elem2, elem3):
	return elem1 + elem2 + elem3

numbers1 = [1, 2, 3, 4]
numbers2 = [10, 20]
numbers3 = [100, 200, 300, 400, 500]

new_numbers = list(map(func, numbers1, numbers2, numbers3)) # преобразуем итератор в список

print(new_numbers)
```

```
[111, 222]
```

Число итераций будет ограниченно самым коротким итерируемым объектом.

Важно помнить, что итераторы, которые возвращают функции `map()` и `filter()` можно обойти только один раз. При вторичной итерации мы будем получать уже пустой итератор.
```python
squares = map(lambda x: x ** 2, range(1, 10))
evens = filter(lambda x: x % 2 == 0, [9, 3, 45, 67, 12, 90, 87, 12, 45, 67])

print('Первичная распаковка (итерация): ', *squares)
print('Вторичная распаковка (итерация): ', *squares)

print('Первичное преобразование в список (итерация): ', list(evens))
print('Вторичное преобразование в список (итерация): ', list(evens))
```
```
Первичная распаковка (итерация):  1 4 9 16 25 36 49 64 81
Вторичная распаковка (итерация): 
Первичное преобразование в список (итерация):  [12, 90, 12]
Вторичное преобразование в список (итерация):  []
```