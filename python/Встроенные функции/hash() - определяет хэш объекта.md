#встроенная_функция #python #метод #hash #хэш

Метод `hash()` принимает в качестве аргумента некоторый объект и возвращает целое число, представляющее хеш-значение переданного объекта. Большинство неизменяемых встроенных объектов `Python` являются хешируемыми и имеют хеш-значение. Изменяемые коллекции, такие как списки, множества и словари, не имеют хеш-значений.
```python
print(hash(899))
print(hash(69.0))
print(hash('timyrik'))
print(hash((1, 2, 3)))
print(hash(False))
print(hash(True))
```
```python
899
69
1468304915
-378539185
0
1
```
Обратите внимание на то, что хеш-значения целых чисел совпадают с самим числом, за исключением числа `-1`
```python
for i in range(-5, 6):
    print(hash(i))
```
```
-5
-4
-3
-2
-2
0
1
2
3
4
5
```
Таблица хешируемых объектов:

|   |   |
|---|---|
|**Тип данных**|**Хешируемость**|
|`bool`|✔️|
|`int`|✔️|
|`float`|✔️|
|`complex`|✔️|
|`str`|✔️|
|`list`|❌|
|`tuple`|✔️*|
|`set`|❌|
|`frozenset`|✔️|
|`dict`|❌|
`*`Тип `tuple` хешируемый только при условии, что их элементы являются хешируемыми
```python
tpl = (1, 2, True, 'python')

print(hash(tpl))
```
```
8728127638606130792
```

```python
tpl = (1, 2, [True, 'python'])

print(hash(tpl))
```
```
TypeError: unhashable type: 'list'
```

**Примечание 1.** Почитать подробнее про хеш-функции можно по [ссылке](https://ru.wikipedia.org/wiki/%D0%A5%D0%B5%D1%88-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F).

**Примечание 2**. Имейте в виду, что хеш-функция может меняться в новых версиях языка Python. Поэтому всегда является плохой идеей сохранять хеш-значения, которые генерирует встроенная функция `hash()`  в базу данных или на диск.

**Примечание 3.** В настоящий момент в Python встроенная функция `hash()` использует алгоритм [SipHash](https://www.python.org/dev/peps/pep-0456/#siphash). SipHash – это семейство псевдослучайных функций на основе add-rotate-xor (ARX). Алгоритм создан Дэниелом Дж. Бернстайном в 2012 году.

**Примечание 4.** Существуют общепринятые и криптостойкие алгоритмы хеширования, такие как [MD5](https://ru.wikipedia.org/wiki/MD5) или [SHA](https://ru.wikipedia.org/wiki/SHA-2). Для их использования в Python есть специальный модуль `hashlib`. Подробнее о его применении можно почитать по [ссылке](https://www.pythoncentral.io/hashing-strings-with-python/).

**Примечание 5.** Словари (тип `dict`) активно используют хеш-значения. Подробнее об этом можно почитать по [ссылке 1](https://www.laurentluce.com/posts/python-dictionary-implementation/), [ссылке 2](https://tenthousandmeters.com/blog/python-behind-the-scenes-10-how-python-dictionaries-work/), [ссылке 3](https://andrewbrookins.com/technology/pythons-default-hash-algorithm/).