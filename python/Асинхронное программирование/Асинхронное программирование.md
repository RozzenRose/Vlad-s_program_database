#pytghon #аснихронное_программирование

![[GIL_description.gif]]
### Асинхронное VS Синхронное программирование
- [[Использование асинхронного подхода для задач ввода-вывода]]
- [[Сопрограммы]]
- [[Задача (Tusk)]]
- [[python/Асинхронное программирование/Цикл событий|Цикл событий]]
#### Синхронное программирование
Синхронное программирование предполагает выполнение задач последовательно, одна за другой. Каждая задача блокирует выполнение программы до тех пор, пока на завершится.
###### Основные черты:
- **Последовательное выполнение**: Код выполняется строчка за строчкой, и каждая операция завершает выполнение перед началом следующей
- **Блокировка**: Время ожидания одной задачи блокирует выполнение всей программы. Например, если происходит чтение файла, вся программа будет ждать, пока файл не будет полностью прочитан
- **Простота**: Логика выполнения легко понятна кожаным мешкам
#### Асинхронное программирование
Асинхронное программирование позволяет выполнять другие операции, пока ожидается завершение длительных задач. Это особенно полезно для задач ввода-вывода (сетевых запросов или операции чтения/записи файлов), где время ожидания может значительно снижать производительность кода
###### Основные черты
- **Конкурентное выполнение**: Несколько задач могут выполняться конкурентно, переключаясь между собой без блокировки
- **Не блокировка**: Длительные операции, такие как сетевые запросы или чтение файлов, не блокируют выполнение других задач
- **Сложность**: Логика выполнения может быть сложна для понимания коженых мешков

### Модуль asyncio
Это стандартная библиотека `Python`, которая предоставляет возможности для написания асинхронного кода. Основная цель использования `asyncio` - это увеличение производительности программ за счет асинхронного выполнения задач, особенно в случаях, когда программа часто работает с вводом-выводом (например, сетевые запросы, чтение и запись файлов)

Инфа по этому модулю есть в этой базе #asyncio 
### Асинхронные и синхронные код в действии
Попробуем понять разницу между синхронными и асинхронными `HTTP` запросами.
#### Синхронные `HTTP` запросы
Синхронные запросы обрабатываются последовательно. Каждая операция блокирует выполнение программы до тех пор, пока не завершится
![[Pasted image 20250115155256.png]]

Описание шагов:

|Шаг|Описание|
|---|---|
|1|Клиент отправляет HTTP запрос к серверу.|
|2|Программа ждет ответа от сервера, выполнение программы блокируется.|
|3|Сервер отправляет ответ клиенту.|
|4|Клиент обрабатывает ответ.|
|5|Клиент отправляеть 2ой HTTP запрос к серверу.|
|6|Программа ждет ответа от сервера, выполнение программы блокируется.|
|7|Сервер отправляет ответ клиенту.|
|8|Клиент обрабатывает ответ.|
В случае синхронного подхода общее время выполнения будет равно суммарному времени всех запросов
### Асинхронные `HTTP` запросы
Асинхронные запросы позволяют выполнять другие операции. пока ожидается ответ от сервера. Программа не блокируется во время ожидания
![[Pasted image 20250115155503.png]]

Описание шагов:

|Шаг|Описание|
|---|---|
|1|Клиент отправляет HTTP запрос к серверу.|
|2|Программа ждет ответа от сервера и отправляет 2ой HTTP запрос к серверу.|
|3|Сервер отправляет ответы клиенту.|
|4|Клиент обрабатывает ответы.|
В случае асинхронного подхода общее время выполнения будет определяться продолжительностью самого длинного запроса