#магичесий_метод #python

В Python существуют методы, которые редко вызываются напрямую, при этом они постоянно вызываются встроенными функциями и операторами, даже если мы об этом не знаем. Такие методы называются магическими и обрамляются двойными нижним подчеркиванием с двух сторон.

Использование магических методов позволяет сделать работу с создаваемыми объектами удобной за счет схожести с встроенными объектами языка.

Магически методы еще называют `dunders` от `double underscore`(двойное нижнее подчеркивание)

Например, у объектов типа `list` есть магические методы `__len__()` и `__str__()`. Первый магический метод вызывается автоматически встроенной функцией `len()`, которая возвращает длину списка, второй метод вызывается встроенной функцией `str()`, которая возвращает строковое представление списка.
```python
words = ['hello', 'beegeek', 'python']

print(len(words))         # за кулисами вызывается магический метод __len__()
print(str(words))         # за кулисами вызывается магический метод __str__()
```
```
3
['hello', 'beegeek', 'python']
```
Нам ничего не мешает напрямую вызвать эти магические методы:
```python
words = ['hello', 'beegeek', 'python']

print(words.__len__())
print(words.__str__())
```
```
3
['hello', 'beegeek', 'python']
```
На практике вызывать такие методы нам приходится довольно редко. Обычно за нас это делают встроенные функции языка

Посмотреть весь список методов и атребутов как обычно можно через `dir()`
```python
words = ['hello', 'beegeek', 'python']

print(dir(words))
```
```no-highlight
['__add__', '__class__', '__class_getitem__', '__contains__', '__delattr__', '__delitem__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__iadd__', '__imul__', '__init__', '__init_subclass__', '__iter__', '__le__', '__len__', '__lt__', '__mul__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', 'append', 'clear', 'copy', 'count', 'extend', 'index', 'insert', 'pop', 'remove', 'reverse', 'sort']
```
Забавно, что публичные методы, то есть методы которые вызываются явно (`append(), count(), extend(), index()` и т.д.), не имеют нижних подчеркиваний.