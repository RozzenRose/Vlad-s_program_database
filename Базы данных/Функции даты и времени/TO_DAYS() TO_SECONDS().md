#база_данных #реляционные #SQL #СУБД #дата #время #TO_DAYS #TO_SECONDS

Функция `TO_DAYS()` используется для преобразования даты в количество дней. Она принимает в качестве аргумента дату, преобразует ее в количество дней и возвращает полученный результат.
```MySQL
SELECT TO_DAYS('2023-04-01'),
       TO_DAYS('0001-01-01'),
       TO_DAYS('0000-01-01');
```
```
+-----------------------+-----------------------+-----------------------+
| TO_DAYS('2023-04-01') | TO_DAYS('0001-01-01') | TO_DAYS('0000-01-01') |
+-----------------------+-----------------------+-----------------------+
| 738976                | 366                   | 1                     |
+-----------------------+-----------------------+-----------------------+
```
Обратите внимание, что отсчет количества дней начинается с нулевого года.

Похожим образом себя ведет функция `TO_SECONDS()`, за тем исключением, что она преобразует дату в количество секунд, а не дней.
```MySQL
SELECT TO_SECONDS('2023-04-01'),
       TO_SECONDS('0001-01-01'),
       TO_SECONDS('0000-01-01');
```
```
+--------------------------+--------------------------+--------------------------+
| TO_SECONDS('2023-04-01') | TO_SECONDS('0001-01-01') | TO_SECONDS('0000-01-01') |
+--------------------------+--------------------------+--------------------------+
| 63847526400              | 31622400                 | 86400                    |
+--------------------------+--------------------------+--------------------------+
```

### Этих функций нет в `PostgreSQL`
Реализация `TO_DAYS()`
```PostgreSQL
SELECT 
    DATE '2023-07-05' - DATE '0000-01-01' AS days_since_epoch;
```
Разница между датами - это тупо количество дней 

Реализация `TO_SECONDS()`
```PostgreSQL
-- Количество секунд с 0000-01-01 до текущего времени
SELECT EXTRACT(EPOCH FROM CURRENT_TIMESTAMP - TIMESTAMP '0000-01-01 00:00:00') AS seconds_since_epoch;
```