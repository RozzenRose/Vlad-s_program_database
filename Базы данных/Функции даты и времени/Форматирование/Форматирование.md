#база_данных #реляционные #SQL #СУБД #дата #время #форматирование

По умолчанию вывод даты и времени осуществляется в ISO-формате. Например, дата в таком формате записывается в виде `2023-10-25` (год, месяц, день). Однако для конечного пользователя такой формат может быть не всегда удобен. Российские пользователи, к примеру, привыкли видеть дату в виде `25.10.2023` (день, месяц, год), что заметно отличается от даты в формате ISO.

SQL позволяет определить любой необходимый формат отображения даты и времени c помощью **строк формата**. Например, дата `2023-10-25` при форматировании в соответствии со строкой формата `%d.%m.%Y` будет иметь вид `25.10.2023`. Значения `%d, %m` и `%Y` в строке формата называются **спецификаторами формата**. Каждый из них представляет собой символ, предваренный знаком процента (`%`), который обозначает какую-либо компоненту даты и времени. Например, `%d` обозначает день месяца, а `%m` и `%Y` — номер месяца и год соответственно.

| ***MySQL***      |                                                   |
| ---------------- | ------------------------------------------------- |
| **Спецификатор** | **Описание**                                      |
| `%M`             | Полное название месяца (`January`..`December`)    |
| `%b`             | Сокращенное название месяца (`Jan`..`Dec`)        |
| `%W`             | Полное название дня недели (`Sunday`..`Saturday`) |
| `%a`             | Сокращенное название дня недели (`Sun`..`Sat`)    |
| `%Y`             | Год (`0000`..`9999`)                              |
| `%m`             | Номер месяца (`00`..`12`)                         |
| `%d`             | День месяца (`00`..`31`)                          |
| `%w`             | Номер дня недели (`0`..`6`)                       |
| `%H`             | Часы (`00`..`23`)                                 |
| `%i`             | Минуты (`00`..`59`)                               |
| `%S`             | Секунды (`00`..`59`)                              |
| `%f`             | Микросекунды (`000000`..`999999`)                 |
| `%T`             | Время в формате `HH:MM:SS`                        |

Следует уточнить, что таблица выше включает лишь наиболее полезные спецификаторы формата, однако на самом деле их гораздо больше. С полным списком спецификаторов формата можно ознакомиться по [ссылке](https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html#function_date-format).

Функции для форматирования:
- [[DATE_FORMAT()]]
- [[TIME_FORMAT()]]
- [[STR_TO_DATE()]]
- [[GET_FORMAT()]]

В `PostgreSQL` это  это работает иначе:

| ***PostgreSQL*** |                                                 |
| ---------------- | ----------------------------------------------- |
| **Спецификатор** | **Описание**                                    |
| `YYYY`           | Год (4 цифры)                                   |
| `YY`             | Год (2 последние цифры)                         |
| `MM`             | Месяц (2 цифры)                                 |
| `Mon`            | Аббревиатура месяца                             |
| `Month`          | Полное название месяца                          |
| `DD`             | День месяца (2 цифры)                           |
| `Dy`             | Аббревиатура дня недели                         |
| `Day`            | Полное название дня недели                      |
| `HH`             | Часы (01-12)                                    |
| `HH12`           | Часы в 12-часовом формате (01-12)               |
| `HH24`           | Часы в 24-часовом формате (00-23)               |
| `MI`             | Минуты (00-59)                                  |
| `SS`             | Секунды (00-59)                                 |
| `AM`/`PM`        | До полудня/После полудня                        |
| `TZ`             | Аббревиатура часового пояса                     |
| `RM`             | Римские цифры для месяца                        |
| `WW`             | Номер недели в году (начало с воскресенья)      |
| `IW`             | Номер недели в ISO году (начало с понедельника) |
| `D`              | День недели (1-7, где 1 = воскресенье)          |
| `FM`             | Удаляет ведущие пробелы в результатах           |
В `PostgreSQL` есть по сути одна функция для форматирования
- [[Базы данных/Функции даты и времени/Форматирование/TO_CHAR()|TO_CHAR()]]
- [[TO_DATE()]]