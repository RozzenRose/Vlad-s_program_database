~#PostgreSQL 

`pg_dump` - это стандартная командная утилита для **PostgreSQL** для создания резервной копии (дампа) базы данных. Она экспортирует содержимое базы данных в файл, который можно использовать для восстановления или переноса данных.
### Основные возможности `pg_dump`:
- Создаёт дамп всей базы данных или отдельных её частей (схем, таблиц).
- Может создавать дампы в разных форматах: текстовый SQL-скрипт, собственный двоичный формат, архив.
- Позволяет делать выборочные копии (например, только определённые таблицы).
- Позволяет восстанавливать дамп с помощью `psql` или `pg_restore` (в зависимости от формата дампа).

### Форматы дампа:
- **plain** (текстовый SQL-скрипт, по умолчанию) — можно просмотреть и редактировать, восстанавливается через `psql`.
- **custom** — собственный двоичный формат, поддерживает сжатие и выборочное восстановление.
- **directory** — дамп в виде каталога с файлами (для параллельного восстановления).
- **tar** — архив в формате tar.

### Пример базового создания дамп файла:
```bash
pg_dump -U username -h hostname -p port dbname > dumpfile.sql
```
- `-U username` — имя пользователя PostgreSQL.
- `-h hostname` — сервер базы данных (по умолчанию localhost).
- `-p port` — порт (по умолчанию 5432).
- `dbname` — имя базы данных.
- `> dumpfile.sql` — вывод в файл.
Если база в контейнере:
```bash
docker exec conteinername pg_dump -U username -h hostname -p port dbname > filename.sql
```
### Пример базового востанавления из дамп файла:
```bash
psql -U username -d dbname -f dumpfile.sql
```
Если база в контейнере:
```bash
cat filename.sql | docker exec -i conteinername psql -U username -d dbname
```