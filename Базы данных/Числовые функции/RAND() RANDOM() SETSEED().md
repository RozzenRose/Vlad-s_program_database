#база_данных #реляционные #SQL #СУБД #числовые_функции #RAND #RANDOM #SETSEED
 
Функция `RAND()` используется для генерации случайных чисел При вызове без аргументов она возвращает случайное число с плавающей точкой в диапазоне `[0, 1)`
```MySQL
SELECT RAND(),
       RAND(),
       RAND();
```
```
+-------------------+--------------------+---------------------+
| RAND()            | RAND()             | RAND()              |
+-------------------+--------------------+---------------------+
| 0.338787759038422 | 0.8266121575856694 | 0.11669754154672617 |
+-------------------+--------------------+---------------------+
```

```PostgreSQL
SELECT RANDOM(),
       RANDOM(),
       RANDOM();
```
```
+-------------------+--------------------+---------------------+
| RAND()            | RAND()             | RAND()              |
+-------------------+--------------------+---------------------+
| 0.338787759038422 | 0.8266121575856694 | 0.11669754154672617 |
+-------------------+--------------------+---------------------+
```

В `MySQL` функция `RAND()` может принимать необязательный аргумент в виде любого числа. Который по сути является **seed'ом** для генерации. Тоесть функции с заданным сидом будут возвращать одни и те же числа
```MySQL
SELECT RAND(2),
       RAND(2),
       RAND(3),
       RAND(3);
```
```
+--------------------+--------------------+--------------------+--------------------+
| RAND(2)            | RAND(2)            | RAND(3)            | RAND(3)            |
+--------------------+--------------------+--------------------+--------------------+
| 0.6555866465490187 | 0.6555866465490187 | 0.9057697559760601 | 0.9057697559760601 |
+--------------------+--------------------+--------------------+--------------------+
```

`RANDOM()` для `PostgreSQL` так не умеет, но **seed** можно задать функцией `SETSEED()`
```PostgreSQL
SELECT SETSEED(0.5);  -- Установка сида
SELECT RANDOM();      -- Генерация случайного числа
```
`SETSEED()` принимает любые числа в диапазоне от `0` до `1`

Функция `RAND()` в комбинации с операторами `ORDER BY` и `LIMIT` позволяет извлекать из таблицы определенное количество случайных записей.

Предположим, мы работаем с таблицей `SQLTeam`, которая имеет следующий вид:
```
+----+---------+
| id | name    |
+----+---------+
| 1  | Timur   |
| 2  | Arthur  |
| 3  | Valera  |
| 4  | Rustam  |
+----+---------+
```
При необходимости извлечь из этой таблицы, скажем, две случайные записи мы можем сначала отсортировать их с помощью функции `RAND()`, а затем ограничить полученный результат двумя записями.
```sql
SELECT *
FROM SQLTeam
ORDER BY RAND()
LIMIT 2;
```
```
+----+---------+
| id | name    |
+----+---------+
| 1  | Timur   |
| 4  | Rustam  |
+----+---------+
```
Извлечение происходит случайным образом потому, что во время сортировки для каждой записи функция `RAND()` вызывается отдельно. Таким образом, сначала каждой записи сопоставляется определенное случайное число, а затем записи сортируются на основе этих случайных чисел.