#база_данных #реляционные #нормализация_данных 

Третья нормальная форма исправляет оставшиеся после приведения ко второй нормальной форме аномалии и включает следующие правила:
- таблица должна находится во второй нормальной форме
- каждое неключевое поле таблицы должно зависеть только от первичного ключа и ни от какого другого неключевого поля

Другими словами, третья нормальная форма говорит о том, что неключевые поля не должны вести себя как первичные ключи. Они не должны давать возможности получить данные из других полей, так как их задачей является лишь предоставление той информации, которая находится в них самих

Для примера рассмотрим таблицу, которая уже находится во второй форме:

| **ID** | **Имя** | **Фамилия** | **Должность** | **Зарплата** |
| ------ | ------- | ----------- | ------------- | ------------ |
| 1      | Билл    | Гейтс       | Программист   | 120 000      |
| 2      | Алан    | Тьюринг     | Криптограф    | 100 000      |
| 3      | Эдгар   | Кодд        | Программист   | 120 000      |
Данная таблица содержит список сотрудников с указанием их должностей и размеров заработной платы. Первичным ключом в ней является поле `ID`. При этом известно, что размер заработной платы сотрудника определяется занимаемой должностью. Следовательно, существует зависимость поля `Зарплата` от поля `Должность`, что делает таблицу не соответствующей требованиям третьей нормальной формы, и в ней есть аномалии модификации. Например, если Алан решит стать программистом, его зарплата все равно останется на прежнем уровне.

Таблица во второй нормальной форме приводится к третье способом, похожим на то, как первая нормальная форма приводится ко второй - путем декомпозиции с учетом всех неудовлетворяющих зависимостей. В нашем случае неудовлетворяющую зависимость образует поле `Зарплата`, поэтому его следует вынести в отдельную таблицу:

| **Код должности** | **Должность** | **Зарплата** |
| ----------------- | ------------- | ------------ |
| 1                 | Программист   | 120 000      |
| 2                 | Криптограф    | 100 000      |
Тогда исходная таблица примет следующий вид:

| **ID** | **Имя** | **Фамилия** | **Код занимаемой должности** |
| ------ | ------- | ----------- | ---------------------------- |
| 1      | Билл    | Гейтс       | 1                            |
| 2      | Алан    | Тьюринг     | 2                            |
| 3      | Эдгар   | Кодд        | 1                            |
Теперь мы имеем две таблицы, каждая их которых находится в третьей нормальной форме. Благодаря этому аномалия модификации больше не проявляется, и любой сотрудник после смены должности автоматически получит корректное изменение заработной платы

Также следует заметить, что в таблице с информацией о должностях каждой должности был присвоен уникальный код, который используется в таблице с работниками для указания занимаемой должности. Теперь если мы решим переименовывать должность `Программист` в `Разработчик`, это нужно будет сделать лишь единожды, а не изменять должность каждого работника, являющегося программистом

Приводить базу данных к третьей нормальной форму для устранения всех зависимостей на всегда практично. Значительное увеличение числа маленьких таблиц может привести к снижению производительности при работе с базой данных

---
## Примечания

**Примечание 1.** Нормализация предназначена для приведения структуры базы данных к виду, обеспечивающему минимальную логическую избыточность, и не имеет целью уменьшение или увеличение производительности работы или же уменьшение или увеличение физического объема базы данных.

**Примечание 2.** Если в таблице имеется только один потенциальный первичный ключ и он состоит только из одного поля, то соответствие таблицы первой нормальной форме автоматически делает таблицу соответствующей второй нормальной форме.

**Примечание 3.** Помимо нормализации, существует процесс, называемый **денормализацией**. Денормализация заключается в намеренном приведении структуры базы данных в состояние, не соответствующее определенным нормальным формам. Обычно денормализация используется с целью ускорения операций чтения из базы данных за счет добавления избыточных данных.

**Примечание 4.** Дополнительно о каждой нормальной форме и примерах приведения к ним можно почитать по [ссылке](https://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D1%80%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%84%D0%BE%D1%80%D0%BC%D0%B0).