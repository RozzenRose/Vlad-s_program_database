#база_данных #реляционные #SQL #СУБД #CONCAT 

Объединяет значения нескольких полей в одно.
```
+----+-------+----------------------+------------+-------+----------+
| id | place | trackname            | artist     | price | quantity |
+----+-------+----------------------+------------+-------+----------+
| 1  | 4     | Crazy On You         | Heart      | 2.00  | 31454    |
| 2  | 3     | My Lover             | The Sounds | 3.00  | 4558     |
| 3  | 2     | Running up That Hill | Kate Bush  | 1.00  | 15874    |
| 4  | 5     | Thrill               | The Sounds | 5.00  | 548      |
| 5  | 1     | Spent the Day in Bed | Morrissey  | 5.00  | 564797   |
+----+-------+----------------------+------------+-------+----------+
```

Напишем запрос, который извлекает названия песен и их исполнителей, причем указывает эти данные в одном поле
```MySQL
SELECT CONCAT(artist, ' - ', trackname)
FROM Songs;
```
```
+----------------------------------+
| CONCAT(artist, ' - ', trackname) |
+----------------------------------+
| Heart - Crazy On You             |
| The Sounds - My Lover            |
| Kate Bush - Running up That Hill |
| The Sounds - Thrill              |
| Morrissey - Spent the Day in Bed |
+----------------------------------+
```
В данном примере функция `CONCAT()` выполняет объединение следующих значений: исполнителя песни, строки-разделителя (`-`) и названия песни. Итогом является поле, в котором содержится все три значения

также в примере выше можно заметить, что имя вычисляемого поля в результирующей таблице совпадает с выражением, которое это поле определяет Чтобы вычисляемое поле получило более информативное название, ему достаточно дать псевдоним
```MySQL
SELECT CONCAT(artist, ' - ', trackname) AS song
FROM Songs;
```
```
+----------------------------------+
| song                             |
+----------------------------------+
| Heart - Crazy On You             |
| The Sounds - My Lover            |
| Kate Bush - Running up That Hill |
| The Sounds - Thrill              |
| Morrissey - Spent the Day in Bed |
+----------------------------------+
```
### Примечания
**Примечание 1.** Если псевдоним вычисляемого поля совпадает с именем одного из полей таблицы, то сортировка будет осуществляться по значениям вычисляемого поля.
```MySQL
SELECT CONCAT(artist, ': ',trackname) AS trackname
FROM Songs
ORDER BY trackname;
```
```
+---------------------------------+
| trackname                       |
+---------------------------------+
| Heart: Crazy On You             |
| Kate Bush: Running up That Hill |
| Morrissey: Spent the Day in Bed |
| The Sounds: My Lover            |
| The Sounds: Thrill              |
+---------------------------------+
```
Если необходимо осуществить сортировку по значениям поля таблицы, обращаться к полю следует через имя таблицы.
```MySQL
SELECT CONCAT(artist, ': ',trackname) AS trackname
FROM Songs
ORDER BY Songs.trackname;
```
```
+---------------------------------+
| trackname                       |
+---------------------------------+
| Heart: Crazy On You             |
| The Sounds: My Lover            |
| Kate Bush: Running up That Hill |
| Morrissey: Spent the Day in Bed |
| The Sounds: Thrill              |
+---------------------------------+
```
Обратите внимание, значения поля `trackname` стали отсортированы по названиям песен, а не по результатам конкатенации.

**Примечание 2.** Если хотя бы один из аргументов, переданных в функцию `CONCAT()`, равняется `NULL`, функция вернет значение `NULL`.
```MySQL
SELECT CONCAT(1, NULL, 3) AS result1,
       CONCAT(NULL, 'two', 3) AS result2,
       CONCAT('one', 2, NULL) AS result3;
```
```
+---------+---------+---------+
| result1 | result2 | result3 |
+---------+---------+---------+
| NULL    | NULL    | NULL    |
+---------+---------+---------+
```

**Примечание 3.** Поскольку функции принимают значения и возвращают значения, возвращаемое значение одной функции может быть передано в качестве аргумента другой функции.
```MySQL
SELECT CONCAT('numbers: ', CONCAT_WS(', ', 1, 2, 3)) AS result;
```
```
+------------------+
| result           |
+------------------+
| numbers: 1, 2, 3 |
+------------------+
```
В данном примере сначала выполняется вложенная функция `CONCAT_WS()` и возвращает строку `1, 2, 3`. Затем полученная строка передается в функцию `CONCAT()` в качестве второго аргумента.