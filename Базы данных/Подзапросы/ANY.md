#база_данных #реляционные #SQL #СУБД #подзапросы #any 

При использовании ключевого слова `ANY` условие в операции сравнения должно быть истинно хотя бы для одного из значений, которые возвращаются подзапросом. Например, с помощью данного ключевого слова мы можем составить запрос для извлечения данных о книгах, цена которых меньше, чем хотя бы у одной книги за авторством `Chuck Pahlaniuk`
```sql
SELECT title, author, price
FROM Books
WHERE price < ANY (SELECT price
                   FROM Books
                   WHERE author = 'Chuck Palahniuk');
```
```no-highlight
+------------------------------------------+---------------------+-------+
| title                                    | author              | price |
+------------------------------------------+---------------------+-------+
| The Shining                              | Stephen King        | 7.99  |
| Fight Club                               | Chuck Palahniuk     | 9.99  |
| The Catcher in the Rye                   | J.D. Salinger       | 3.49  |
| The Great Gatsby                         | F. Scott Fitzgerald | 7.99  |
| It                                       | Stephen King        | 12.99 |
| The Silmarillion                         | J.R.R. Tolkien      | 11.99 |
| Harry Potter and the Prisoner of Azkaban | J.K. Rowling        | 9.99  |
+------------------------------------------+---------------------+-------+
```
В данном примере подзапрос возвращает таблицу, состоящую из одного поля `price` и двух записей:
```no-highlight
+-------+
| price |
+-------+
| 9.99  |
| 13.99 |
+-------+
```

Сравнение значения поля `price` с этой таблицей выполняется путем его последовательного сравнения с каждым значением таблицы: сначала выполняется сравнение `price < 9.99`, затем — `price < 13.99`. Если результатом хотя бы одной операции сравнения является истина, запись попадает в результирующую таблицу, если же все результаты являются ложными, запись отбрасывается.

Фактически запрос выше эквивалентен следующему запросу:
```sql
SELECT title, author, price
FROM Books
WHERE price < 9.99 OR price < 13.99;
```

У ключевого слова `ANY` имеется аналог в виде ключевого слова `SOME`. По своему действию оба этих ключевых слова идентичны, поэтому применять можно любое из них.