#база_данных #реляционные #SQL #СУБД #подзапросы #all 

При использовании ключевого слова `ALL` условие в операции сравнения должно быть истинно для всех значений которые возвращаются подзапросом. Например, с помощью данного ключевого слова мы можем составить запрос, извлекающий данные о книгах, цена которых больше, чем у каждой книги за авторством `Chuk Palahniuk`
```sql
SELECT title, author, price
FROM Books
WHERE price > ALL (SELECT price
                   FROM Books
                   WHERE author = 'Chuck Palahniuk');
```
```
+-----------------------+----------------+-------+
| title                 | author         | price |
+-----------------------+----------------+-------+
| The Green Mile        | Stephen King   | 15.99 |
| The Lord of the Rings | J.R.R. Tolkien | 19.99 |
+-----------------------+----------------+-------+
```

В данном примере подзапрос возвращает таблицу, состоящую из одного поля `price` и двух записей, поскольку в таблице `Books` содержатся две книги, принадлежащие автору `Chuck Palahniuk`:
```
+-------+
| price |
+-------+
| 9.99  |
| 13.99 |
+-------+
```

Сравнение значения поля `price` с этой таблицей выполняется путем его последовательного сравнения с каждым значением таблицы: сначала выполняется сравнение `price > 9.99`, затем — `price > 13.99`. Если результатом обеих операций сравнения является истина, запись попадает в результирующую таблицу, если же хотя бы один результат является ложным, запись отбрасывается.

Фактически запрос выше эквивалентен следующему запросу:
```sql
SELECT title, author, price
FROM Books
WHERE price > 9.99 AND price > 13.99;
```
